<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RiderSkill — Site Officiel</title>
<meta name="description" content="RiderSkill — Streamer & Animateur WebTV. Live Twitch + musique + clips + communauté." />
<meta name="theme-color" content="#0D0D0D" />

<link rel="icon" href="https://unavatar.io/twitch/riderskill" />
<link rel="apple-touch-icon" href="https://unavatar.io/twitch/riderskill" />
<link rel="shortcut icon" href="https://unavatar.io/twitch/riderskill" />

<style>
  :root{
    --txt:#e9edf1; --muted:#9aa3ab; --line:#1a2030;
    --twitch:#9146FF; --on:#17e1a6; --off:#e11d48;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:var(--txt);background:#0a0b0f}

  /* NAV */
  .topbar{position:sticky;top:0;backdrop-filter:blur(8px);background:rgba(10,11,15,.85);border-bottom:1px solid #151a29;z-index:10}
  .nav{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 16px}

  .brand{position:relative;display:flex;align-items:center;gap:10px;font-weight:800;color:var(--txt);text-decoration:none}
  .brand img{width:32px;height:32px;border-radius:50%}
  #statusDot{position:absolute;bottom:2px;left:22px;width:10px;height:10px;border-radius:50%;background:var(--twitch);box-shadow:0 0 6px var(--twitch)}
  #brandText.on{color:var(--on)} 
  #brandText.off{color:var(--off)} 

  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
  #statusDot.live{background:var(--on);box-shadow:0 0 8px var(--on);animation:pulse 1.2s infinite}
  #statusDot.off{background:var(--off);box-shadow:0 0 6px var(--off)}

  .links{display:flex;gap:12px}
  .btn{padding:8px 12px;border-radius:8px;text-decoration:none;color:#fff;font-weight:600;background:#161a24}
</style>
</head>
<body>

<!-- NAV -->
<div class="topbar">
  <div class="nav">
    <a class="brand" href="./" title="Accueil">
      <img src="https://unavatar.io/twitch/riderskill" alt="Logo RiderSkill">
      <span id="brandText">RiderSkill</span>
      <span id="statusDot"></span>
    </a>
    <div class="links">
      <a class="btn" href="#live">Live</a>
      <a class="btn" href="#clips">Clips</a>
      <a class="btn" href="#alaune">À la une</a>
    </div>
  </div>
</div>

<!-- HERO -->
<header style="padding:40px;text-align:center">
  <h1>Le show. Le game. <span style="color:var(--twitch)">La musique.</span></h1>
  <p class="muted">Streamer FR — Rust • GTA • SOT — vibes musicales + communauté active.</p>
</header>

<!-- LIVE -->
<section id="live" style="padding:40px;text-align:center">
  <h2>Live intégré</h2>
  <div id="twitch-player" style="margin:20px auto;max-width:800px;height:450px"></div>
  <iframe id="twitch-chat" src="https://www.twitch.tv/embed/riderskill/chat?parent=riderskill.github.io" style="width:350px;height:450px;border:none;border-radius:8px"></iframe>
</section>

<footer style="text-align:center;padding:20px;color:var(--muted)">
  © 2025 RiderSkill — twitch.tv/riderskill
</footer>

<script src="https://player.twitch.tv/js/embed/v1.js"></script>
<script>
  function setStatus(mode){
    const dot = document.getElementById('statusDot');
    const label = document.getElementById('brandText');
    dot.classList.remove('live','off');
    label.classList.remove('on','off');
    if(mode==='on'){
      dot.classList.add('live'); label.classList.add('on');
      label.textContent='RiderSkill ON';
    }else if(mode==='off'){
      dot.classList.add('off'); label.classList.add('off');
      label.textContent='RiderSkill OFF';
    }else{
      label.textContent='RiderSkill';
    }
  }

  (function(){
    const parentHosts=["riderskill.github.io"];
    const player=new Twitch.Player("twitch-player",{channel:"riderskill",parent:parentHosts,width:"100%",height:"100%",autoplay:true,muted:true});

    // fallback via ?live=1|0
    const p=new URLSearchParams(location.search);
    if(p.has('live')) setStatus(p.get('live')==='1'?'on':'off');
    else setStatus('unknown');

    try{
      player.addEventListener(Twitch.Player.ONLINE,()=>setStatus('on'));
      player.addEventListener(Twitch.Player.OFFLINE,()=>setStatus('off'));
    }catch(e){}

    player.addEventListener(Twitch.Player.PLAY,()=>{if(!p.has('live'))setStatus('on')});
    let stopTimer;
    player.addEventListener(Twitch.Player.PAUSE,()=>{if(!p.has('live')){clearTimeout(stopTimer);stopTimer=setTimeout(()=>setStatus('off'),15000)}});
  })();
</script>
</body>
</html>

