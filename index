<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RiderSkill — Accueil</title>
<link rel="icon" href="https://unavatar.io/twitch/riderskill" />
<link rel="apple-touch-icon" href="https://unavatar.io/twitch/riderskill" />
<link rel="shortcut icon" href="https://unavatar.io/twitch/riderskill" />
<link rel="stylesheet" href="style.css" />
<meta name="theme-color" content="#0D0D0D" />
</head>
<body>
<!-- NAV -->
<div class="topbar">
  <div class="nav">
    <a class="brand" href="index.html" title="Accueil">
      <img src="https://unavatar.io/twitch/riderskill" alt="Logo RiderSkill">
      <span id="brandText">RiderSkill</span>
      <span id="statusDot"></span>
    </a>
    <div class="links">
      <a class="btn" href="index.html">Live</a>
      <a class="btn" href="clips.html">Clips</a>
      <a class="btn" href="alaune.html">À la une</a>
      <a class="btn twitch" href="https://twitch.tv/riderskill" target="_blank" rel="noopener">Twitch</a>
      <a class="btn kick" href="https://kick.com/riderskill" target="_blank" rel="noopener">Kick</a>
      <a class="btn youtube" href="https://www.youtube.com/@riderskill" target="_blank" rel="noopener">YouTube</a>
      <a class="btn tiktok" href="https://www.tiktok.com/@riderskill_twitch" target="_blank" rel="noopener">TikTok</a>
      <a class="btn x" href="https://x.com/riderskill" target="_blank" rel="noopener">X</a>
      <a class="btn discord" href="https://discord.gg/2UWwhhyY" target="_blank" rel="noopener">Discord</a>
    </div>
  </div>
</div>

<!-- HERO : 2 gros + 1 petit -->
<header>
  <div class="hero">
    <div class="card">
      <h1 class="title">Le show. Le game. <span style="color:var(--twitch)">La musique.</span></h1>
      <p class="subtitle">Streamer FR — Rust • GTA • SOT — vibes musicales + communauté active.</p>
      <div class="cta">
        <a class="btn twitch" href="https://twitch.tv/riderskill" target="_blank" rel="noopener">Regarder en direct</a>
        <a class="btn discord" href="https://discord.gg/2UWwhhyY" target="_blank" rel="noopener">Rejoindre le Discord</a>
      </div>
    </div>

    <div class="card">
      <h2 class="title miniTitle">Gameplay. Vibes. <span style="color:#53FC18">Clips à gogo.</span></h2>
      <p class="subtitle">Moments forts, highlights et best-of. Tout est regroupé ici.</p>
      <div class="eq" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span></div>
      <div class="cta" style="margin-top:14px"><a class="btn youtube" href="clips.html">▶️ Voir les clips</a></div>
    </div>

    <div class="card mini">
      <strong>Infos rapides</strong>
      <p class="subtitle" style="margin-top:6px">Lives en soirée · Drops Rust · Moments forts · Rejoins la commu</p>
    </div>
  </div>
</header>

<!-- LIVE -->
<section class="section" id="live">
  <div class="panel">
    <h2>Live intégré</h2>
    <p class="muted">Regarde ici. Si ça n’apparaît pas, désactive le bloqueur de pubs sur ce site.</p>
    <div class="live-wrap">
      <div id="twitch-player"></div>
      <iframe id="twitch-chat" src="https://www.twitch.tv/embed/riderskill/chat?parent=riderskill.github.io"></iframe>
    </div>
  </div>
</section>

<footer>© 2025 RiderSkill — twitch.tv/riderskill · kick.com/riderskill</footer>

<script src="https://player.twitch.tv/js/embed/v1.js"></script>
<script src="app.js"></script>
<script>
  // Init statut (fallback via ?live=1|0) puis écoute des events du player
  initStatusFromUrl();
  const parentHosts = ["riderskill.github.io"];
  const player = new Twitch.Player("twitch-player", {
    channel: "riderskill",
    width: "100%", height: "100%",
    autoplay: true, muted: true, parent: parentHosts
  });
  try{
    player.addEventListener(Twitch.Player.ONLINE,  () => setStatus('on'));
    player.addEventListener(Twitch.Player.OFFLINE, () => setStatus('off'));
  }catch(e){}
  player.addEventListener(Twitch.Player.PLAY,  () => { if(!hasStatusParam()) setStatus('on'); });
  let stopTimer;
  player.addEventListener(Twitch.Player.PAUSE, () => {
    if(!hasStatusParam()){ clearTimeout(stopTimer); stopTimer = setTimeout(() => setStatus('off'), 15000); }
  });
</script>
</body>
</html>
